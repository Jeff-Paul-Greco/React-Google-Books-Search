{"ast":null,"code":"import _classCallCheck from\"c:\\\\Users\\\\jeffp\\\\google-books-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"c:\\\\Users\\\\jeffp\\\\google-books-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"c:\\\\Users\\\\jeffp\\\\google-books-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"c:\\\\Users\\\\jeffp\\\\google-books-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"c:\\\\Users\\\\jeffp\\\\google-books-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Jumbotron from\"../components/Jumbotron\";import Nav from\"../components/Nav\";import API from\"../utils/API\";import{Col,Row,Container}from\"../components/Grid\";import SearchResult from\"../components/Search\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(){var _getPrototypeOf2;var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Search)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={search:\"\",message:\"\",books:[]};_this.handleInputChange=function(event){_this.setState({search:event.target.value});};_this.handleFormSubmit=function(event){event.preventDefault();API.searchBooks(_this.state.search).then(function(res){if(res.data.items===\"error\"){throw new Error(res.data.items);}else{var results=res.data.items;results=results.map(function(result){result={key:result.id,id:result.id,title:result.volumeInfo.title,author:result.volumeInfo.authors,description:result.volumeInfo.description,image:result.volumeInfo.imageLinks.thumbnail,link:result.volumeInfo.infoLink};return result;});_this.setState({books:results,error:\"\"});}}).catch(function(err){return _this.setState({error:err.items});});};_this.handleSaveButton=function(event){event.preventDefault();var savedBooks=_this.state.books.filter(function(book){return book.id===event.target.id;});savedBooks=savedBooks[0];API.saveBook(savedBooks).then(function(res){return _this.setState({message:alert(\"Added \".concat(res.data.title,\"!\"))});}).catch(function(err){return console.log(err);});};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Nav,null),React.createElement(Container,{fluid:true},React.createElement(Row,null,React.createElement(Col,{size:\"md-10\"},React.createElement(Jumbotron,null,React.createElement(\"h1\",null,\"Google Books Search\"),React.createElement(\"h3\",null,\"Search for and Save Books\"))))),React.createElement(Container,{fluid:true},React.createElement(\"form\",{className:\"border\"},React.createElement(Row,{fluid:true},React.createElement(Col,{size:\"md-12\"},React.createElement(\"h3\",null,\"Book Search\"))),React.createElement(Row,{fluid:true},React.createElement(Col,{size:\"md-12\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:this.handleInputChange}))),React.createElement(Row,{fluid:true},React.createElement(Col,{size:\"md-2\",float:\"right my-2\"},React.createElement(\"button\",{type:\"submit\",className:\"form-control btn btn-primary float-right\",onClick:this.handleFormSubmit},\"Search\"))))),React.createElement(Container,{fluid:true},React.createElement(Row,null,React.createElement(Col,{size:\"md-12\"},React.createElement(SearchResult,{books:this.state.books,handleSaveButton:this.handleSaveButton})))));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["c:/Users/jeffp/google-books-search/client/src/pages/Search.js"],"names":["React","Component","Jumbotron","Nav","API","Col","Row","Container","SearchResult","Search","state","search","message","books","handleInputChange","event","setState","target","value","handleFormSubmit","preventDefault","searchBooks","then","res","data","items","Error","results","map","result","key","id","title","volumeInfo","author","authors","description","image","imageLinks","thumbnail","link","infoLink","error","catch","err","handleSaveButton","savedBooks","filter","book","saveBook","alert","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport Nav from \"../components/Nav\";\r\nimport API from \"../utils/API\";\r\nimport { Col, Row, Container } from \"../components/Grid\";\r\nimport SearchResult from \"../components/Search\"\r\n\r\nclass Search extends Component {\r\n    state = {\r\n        search: \"\",\r\n        message: \"\",\r\n        books: []\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        this.setState({ search: event.target.value });\r\n    }\r\n\r\n    handleFormSubmit = event => {\r\n\r\n        event.preventDefault();\r\n\r\n        API.searchBooks(this.state.search)\r\n\r\n            .then(res => {\r\n\r\n                if (res.data.items === \"error\") {\r\n\r\n                    throw new Error(res.data.items);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    let results = res.data.items;\r\n\r\n                    results = results.map(result => {\r\n\r\n                        result = {\r\n\r\n                            key: result.id,\r\n                            id: result.id,\r\n                            title: result.volumeInfo.title,\r\n                            author: result.volumeInfo.authors,\r\n                            description: result.volumeInfo.description,\r\n                            image: result.volumeInfo.imageLinks.thumbnail,\r\n                            link: result.volumeInfo.infoLink\r\n\r\n                        }\r\n\r\n                        return result;\r\n\r\n                    })\r\n\r\n                    this.setState({ books: results, error: \"\" })\r\n\r\n                }\r\n            })\r\n            .catch(err => this.setState({ error: err.items }));\r\n    }\r\n\r\n    handleSaveButton = event => {\r\n\r\n        event.preventDefault();\r\n\r\n        let savedBooks = this.state.books.filter(book => book.id === event.target.id)\r\n\r\n        savedBooks = savedBooks[0];\r\n\r\n        API.saveBook(savedBooks)\r\n            .then(res => this.setState({ message: alert(`Added ${res.data.title}!`) }))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div>\r\n\r\n                <Nav />\r\n\r\n                <Container fluid>\r\n\r\n                    <Row>\r\n\r\n                        <Col size=\"md-10\">\r\n\r\n                            <Jumbotron>\r\n                                <h1>Google Books Search</h1>\r\n                                <h3>Search for and Save Books</h3>\r\n                            </Jumbotron>\r\n\r\n                        </Col>\r\n\r\n                    </Row>\r\n\r\n                </Container>\r\n\r\n                <Container fluid>\r\n\r\n                    <form className=\"border\">\r\n\r\n                        <Row fluid>\r\n\r\n                            <Col size=\"md-12\">\r\n\r\n                                <h3>Book Search</h3>\r\n\r\n                            </Col>\r\n\r\n                        </Row>\r\n\r\n                        <Row fluid>\r\n\r\n                            <Col size=\"md-12\">\r\n\r\n                                <input type=\"text\" className=\"form-control\" onChange={this.handleInputChange} />\r\n\r\n                            </Col>\r\n\r\n                        </Row>\r\n\r\n                        <Row fluid>\r\n                            <Col size=\"md-2\" float=\"right my-2\">\r\n                                <button type=\"submit\" className=\"form-control btn btn-primary float-right\" onClick={this.handleFormSubmit}>Search</button>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    </form>\r\n\r\n                </Container>\r\n\r\n                <Container fluid>\r\n\r\n                    <Row>\r\n                        <Col size=\"md-12\">\r\n                            <SearchResult books={this.state.books} handleSaveButton={this.handleSaveButton} />\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}