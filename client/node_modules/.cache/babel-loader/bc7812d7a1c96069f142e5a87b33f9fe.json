{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\jeffp\\\\google-books-search\\\\client\\\\src\\\\pages\\\\Search.js\";\nimport React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Nav from \"../components/Nav\";\nimport API from \"../utils/API\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport SearchResult from \"../components/Search\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: \"\",\n      message: \"\",\n      books: []\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        search: event.target.value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      API.searchBooks(this.state.search).then(res => {\n        if (res.data.items === \"error\") {\n          throw new Error(res.data.items);\n        } else {\n          let results = res.data.items;\n          results = results.map(result => {\n            result = {\n              key: result.id,\n              id: result.id,\n              title: result.volumeInfo.title,\n              author: result.volumeInfo.authors,\n              description: result.volumeInfo.description,\n              image: result.volumeInfo.imageLinks.thumbnail,\n              link: result.volumeInfo.infoLink\n            };\n            return result;\n          });\n          this.setState({\n            books: results,\n            error: \"\"\n          });\n        }\n      }).catch(err => this.setState({\n        error: err.items\n      }));\n    };\n\n    this.handleSaveButton = event => {\n      event.preventDefault();\n      let savedBooks = this.state.books.filter(book => book.id === event.target.id);\n      savedBooks = savedBooks[0];\n      API.saveBook(savedBooks).then(res => this.setState({\n        message: alert(\"Book was added!\")\n      })).catch(err => console.log(err));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Jumbotron, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Google Books Search\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Search for and Save Books\"))))), React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Row, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Book Search\"))), React.createElement(Row, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-2\",\n      float: \"right my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-control btn btn-primary float-right\",\n      onClick: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Search\"))))), React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(SearchResult, {\n      books: this.state.books,\n      handleSaveButton: this.handleSaveButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["c:/Users/jeffp/google-books-search/client/src/pages/Search.js"],"names":["React","Component","Jumbotron","Nav","API","Col","Row","Container","SearchResult","Search","state","search","message","books","handleInputChange","event","setState","target","value","handleFormSubmit","preventDefault","searchBooks","then","res","data","items","Error","results","map","result","key","id","title","volumeInfo","author","authors","description","image","imageLinks","thumbnail","link","infoLink","error","catch","err","handleSaveButton","savedBooks","filter","book","saveBook","alert","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport Nav from \"../components/Nav\";\r\nimport API from \"../utils/API\";\r\nimport { Col, Row, Container } from \"../components/Grid\";\r\nimport SearchResult from \"../components/Search\"\r\n\r\nclass Search extends Component {\r\n    state = {\r\n        search: \"\",\r\n        message: \"\",\r\n        books: []\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        this.setState({ search: event.target.value });\r\n    }\r\n\r\n    handleFormSubmit = event => {\r\n\r\n        event.preventDefault();\r\n\r\n        API.searchBooks(this.state.search)\r\n\r\n            .then(res => {\r\n\r\n                if (res.data.items === \"error\") {\r\n\r\n                    throw new Error(res.data.items);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    let results = res.data.items;\r\n\r\n                    results = results.map(result => {\r\n\r\n                        result = {\r\n\r\n                            key: result.id,\r\n                            id: result.id,\r\n                            title: result.volumeInfo.title,\r\n                            author: result.volumeInfo.authors,\r\n                            description: result.volumeInfo.description,\r\n                            image: result.volumeInfo.imageLinks.thumbnail,\r\n                            link: result.volumeInfo.infoLink\r\n\r\n                        }\r\n\r\n                        return result;\r\n\r\n                    })\r\n\r\n                    this.setState({ books: results, error: \"\" })\r\n\r\n                }\r\n            })\r\n            .catch(err => this.setState({ error: err.items }));\r\n    }\r\n\r\n    handleSaveButton = event => {\r\n\r\n        event.preventDefault();\r\n\r\n        let savedBooks = this.state.books.filter(book => book.id === event.target.id)\r\n\r\n        savedBooks = savedBooks[0];\r\n\r\n        API.saveBook(savedBooks)\r\n\r\n            .then(res => this.setState({\r\n                message: alert(\"Book was added!\")\r\n            }))\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div>\r\n\r\n                <Nav />\r\n\r\n                <Container fluid>\r\n\r\n                    <Row>\r\n\r\n                        <Col size=\"md-10\">\r\n\r\n                            <Jumbotron>\r\n                                <h1>Google Books Search</h1>\r\n                                <h3>Search for and Save Books</h3>\r\n                            </Jumbotron>\r\n\r\n                        </Col>\r\n\r\n                    </Row>\r\n\r\n                </Container>\r\n\r\n                <Container fluid>\r\n\r\n                    <form className=\"border\">\r\n\r\n                        <Row fluid>\r\n\r\n                            <Col size=\"md-12\">\r\n\r\n                                <h3>Book Search</h3>\r\n\r\n                            </Col>\r\n\r\n                        </Row>\r\n\r\n                        <Row fluid>\r\n\r\n                            <Col size=\"md-12\">\r\n\r\n                                <input type=\"text\" className=\"form-control\" onChange={this.handleInputChange} />\r\n                            \r\n                            </Col>\r\n                        \r\n                        </Row>\r\n                        \r\n                        <Row fluid>\r\n                            <Col size=\"md-2\" float=\"right my-2\">\r\n                                <button type=\"submit\" className=\"form-control btn btn-primary float-right\" onClick={this.handleFormSubmit}>Search</button>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    </form>\r\n\r\n                </Container>\r\n        \r\n                <Container fluid>\r\n\r\n                    <Row>\r\n                        <Col size=\"md-12\">\r\n                            <SearchResult books={this.state.books} handleSaveButton={this.handleSaveButton} />\r\n                        </Col>\r\n                    </Row>\r\n                    \r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}